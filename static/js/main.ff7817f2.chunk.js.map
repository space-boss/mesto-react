{"version":3,"sources":["images/mesto-logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/api.js","components/App.js","index.js"],"names":["Header","className","src","logoPath","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","type","onClick","onCardDelete","aria-label","onCardClick","name","link","onLikeClick","length","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","onCardLike","Footer","year","Date","getFullYear","PopupWithForm","popupOpenedClass","isOpen","onClose","title","onSubmit","method","noValidate","children","value","ImagePopup","EditProfilePopup","useState","setUserName","description","setUserDescription","useEffect","event","preventDefault","onUpdateUser","id","placeholder","onChange","target","required","minLength","maxLength","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setPlaceName","setPlaceLink","apiConfig","config","this","_url","url","_headers","authorization","res","ok","json","Promise","reject","status","fetch","headers","then","_checkResponse","data","body","JSON","stringify","newCard","place","cardId","App","isEditProfilePopupOpen","toggleEditProfilePopup","isAddPlacePopupOpen","toggleAddPlacePopup","isEditAvatarPopupOpen","toggleEditAvatarPopup","isImagePopupOpen","toggleZoomImagePopup","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","getInfo","catch","err","console","log","getCard","Provider","unlikeCard","state","c","likeCard","deleteCard","filter","user","updateInfo","postCard","updateAvatar","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ff7817f2.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/mesto-logo.c2821b38.svg\";","import logoPath from '../images/mesto-logo.svg';\r\n\r\nfunction Header() {\r\n  return (\r\n      <header className=\"header\">\r\n        <img className=\"header__logo\" src={logoPath} alt=\"Логотип сервиса место\" />\r\n      </header>\r\n  );\r\n}\r\n\r\nexport default Header; ","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n\r\n","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n\r\n\r\n  const cardDeleteButtonClassName = (\r\n    `place__delete ${isOwn ? 'place__delete_shown' : ''}`\r\n  ); \r\n\r\n  const cardLikeButtonClassName = (\r\n    `place__like ${isLiked ? 'place__like_pressed' : ''}`\r\n  )\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    props.onLikeClick(props.card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(props.card);\r\n  }\r\n\r\n  return (\r\n    <div className=\"place\" key={props.card._id} >\r\n      <button \r\n        type=\"button\"\r\n        onClick={handleDeleteClick}\r\n        className={cardDeleteButtonClassName}  \r\n        aria-label=\"Удалить элемeнт\"></button>\r\n      <button \r\n        onClick={handleClick}\r\n        type=\"button\" \r\n        className=\"place__cover-button\" \r\n        aria-label=\"Увеличить картинку\">\r\n          <img className=\"place__cover\" alt={props.card.name} src={props.card.link}/>\r\n      </button>\r\n      <div className=\"place__description\">\r\n        <h2 className=\"place__title\">{props.card.name}</h2>\r\n        <button \r\n          type=\"button\"\r\n          onClick={handleLikeClick} \r\n          className={cardLikeButtonClassName} \r\n          aria-label=\"Добавить в избранное\"></button>\r\n        <p className=\"place__like-count\">{props.card.likes.length}</p>\r\n      </div> \r\n    </div>\r\n  )\r\n} \r\n\r\nexport default Card","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport Card from './Card'; \r\n\r\nfunction Main(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div \r\n          onClick={props.onEditAvatar}\r\n          className=\"profile__userpic-edit-button\"></div>\r\n        <img \r\n          src={currentUser.avatar}\r\n          className=\"profile__pic\" \r\n          alt=\"Фото пользователя\" />\r\n        <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n        <button \r\n          type=\"button\" \r\n          onClick={props.onEditProfile} \r\n          className=\"profile__edit-button\" \r\n          aria-label=\"Редактировать профиль\" />\r\n        <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n        <button \r\n          type=\"button\"  \r\n          onClick={props.onAddPlace} \r\n          className=\"profile__add-button\"\r\n          aria-label=\"Добавить новое место\" />\r\n      </section>\r\n\r\n      <section className=\"places\">\r\n        {props.cards.map((card) => (\r\n          <Card \r\n            card={card} \r\n            key={card._id} \r\n            onCardClick={props.onCardClick}\r\n            onLikeClick={props.onCardLike}\r\n            onCardDelete={props.onCardDelete}/>\r\n        ))}\r\n      </section>\r\n\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Main; ","function Footer() {\r\n  \r\n   const newDate = new Date()\r\n   const year = newDate.getFullYear();\r\n\r\n   return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">© {year} Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}\r\n  \r\n  export default Footer; ","function PopupWithForm(props) {\r\n\r\n  const popupOpenedClass = props.isOpen ? \"popup_opened\" : '';\r\n\r\n  return (\r\n    <section className={`popup popup_${props.name} ${popupOpenedClass}`}>\r\n    <div className={`popup__container popup__container-${props.name}`}>\r\n      <button type=\"button\" \r\n        onClick={props.onClose}\r\n        className=\"popup__close\" \r\n        aria-label=\"Закрыть форму\" />\r\n      <h3 className=\"popup__title\">{props.title}</h3>\r\n      <form \r\n        onSubmit={props.onSubmit}\r\n        name=\"editValues\" \r\n        method=\"post\" \r\n        className={`popup__form popup__form-${props.name}`} \r\n        noValidate>\r\n        {props.children}\r\n        <input name=\"submit\" type=\"submit\" value=\"Сохранить\" className=\"popup__submit-button\" /> \r\n      </form>\r\n    </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","function ImagePopup(props) {\r\n\r\n  const popupOpenedClass = props.isOpen ? \"popup_opened\" : '';\r\n  \r\n  return (\r\n    <section className={`popup popup_zoom ${popupOpenedClass}`}>    \r\n      <div className=\"popup__picture\">\r\n        <button type=\"button\"\r\n          onClick={props.onClose} \r\n          className=\"popup__close\" \r\n          aria-label=\"Закрыть форму\" />\r\n        <img className=\"popup__img\" alt={`${props.card.name}`} src={`${props.card.link}`} />\r\n        <p className=\"popup__caption\"> {props.card.name} </p>\r\n    </div>\r\n  </section>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setUserName] = React.useState('');\r\n  const [description, setUserDescription] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    setUserName(currentUser.name);\r\n    setUserDescription(currentUser.about);\r\n  }, [currentUser])\r\n\r\n  \r\n  function changeUserName(name) {\r\n    setUserName(name.target.value)\r\n  }\r\n \r\n  function changeUserInfo(description) {\r\n    setUserDescription(description.target.value)\r\n  }\r\n   \r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm \r\n      name='profile' \r\n      title='Редактировать профиль'\r\n      isOpen = {props.isOpen}\r\n      onClose = {props.onClose}\r\n      onSubmit = {handleSubmit}>\r\n\r\n      <input \r\n        type=\"text\" \r\n        className=\"popup__input-field popup__input-field_value_name\" \r\n        id=\"profile-username\" \r\n        name=\"name\" \r\n        placeholder=\"Имя\"\r\n        value={name}\r\n        onChange={changeUserName}\r\n        required minLength={2} \r\n        maxLength={40} />\r\n      <span id=\"profile-username-error\" className=\"popup__input-field popup__input-field_error\" />\r\n      \r\n      <input \r\n        type=\"text\" \r\n        className=\"popup__input-field popup__input-field_value_job\" \r\n        id=\"profile-job\" \r\n        name=\"about\" \r\n        value={description}\r\n        onChange={changeUserInfo}\r\n        placeholder=\"О себе\" \r\n        required minLength={2} \r\n        maxLength={200} />\r\n      <span id=\"profile-job-error\" className=\"popup__input-field popup__input-field_error\" />\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const avatarRef = React.useRef()\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm \r\n    name='avatar'\r\n    title='Обновить аватар'\r\n    isOpen = {props.isOpen}\r\n    onClose = {props.onClose}\r\n    onSubmit = {handleSubmit}>\r\n\r\n      <input \r\n        ref={avatarRef}\r\n        type=\"url\" \r\n        className=\"popup__input-field popup__input-field_value_userpic\" \r\n        id=\"userpic\" \r\n        name=\"avatar\" \r\n        placeholder=\"Ссылка\" \r\n        required />\r\n      <span id=\"userpic-error\" className=\"popup__input-field popup__input-field_error\" />\r\n    </PopupWithForm>\r\n  )  \r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n  const [name, setPlaceName] = React.useState('');\r\n  const [link, setPlaceLink] = React.useState('');\r\n\r\n\r\n  function changePlaceName(name) {\r\n    setPlaceName(name.target.value)\r\n  }\r\n\r\n  function changePlaceLink(link) {\r\n    setPlaceLink(link.target.value)\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    props.onAddPlace({\r\n      name,\r\n      link\r\n    });\r\n  }\r\n\r\n\r\n  return (\r\n    <PopupWithForm \r\n    name='place' \r\n    title='Новое место'\r\n    onSubmit = {handleSubmit}\r\n    isOpen = {props.isOpen}\r\n    onClose = {props.onClose}>\r\n\r\n      <input\r\n      type=\"text\" \r\n      className=\"popup__input-field popup__input-field_value_place\" \r\n      id=\"place-name\" \r\n      name=\"place\"\r\n      value={name} \r\n      onChange={changePlaceName}\r\n      placeholder=\"Название\" \r\n      required minLength={2} \r\n      maxLength={30} \r\n      />\r\n      <span id=\"place-name-error\" className=\"popup__input-field popup__input-field_error\" />\r\n      \r\n      <input \r\n      type=\"url\" \r\n      className=\"popup__input-field popup__input-field_value_placeurl\" \r\n      id=\"place-url\" \r\n      value={link} \r\n      onChange={changePlaceLink}\r\n      name=\"link\" \r\n      placeholder=\"Ссылка на картинку\"\r\n      required \r\n      />\r\n      <span id=\"place-url-error\" className=\"popup__input-field popup__input-field_error\" />\r\n    </PopupWithForm>   \r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","class Api {\r\n  constructor(config){\r\n\t\tthis._url = config.url;\r\n    this._headers = {\r\n      \"Content-Type\": \"application/json\", \r\n      \"Authorization\": config.authorization,\r\n    };\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка ${res.status}`);\r\n  }\r\n\r\n  getInfo() {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: \"GET\",\r\n      headers: this._headers\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  updateInfo(data) {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(data)\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  updateAvatar(data) {\r\n    return fetch(`${this._url}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(data)\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  getCard() {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  generateCard(newCard) {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: newCard.place,\r\n        link: newCard.link,\r\n      })\r\n    }).then(this._checkResponse);\r\n  }\r\n  \r\n\r\n  postCard(data) {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(data)\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  deleteCard(cardId){\r\n    return fetch(`${this._url}/cards/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    })\r\n    .then((res) => {\r\n      if(!res.ok) {\r\n        return Promise.reject('Не удалось удалить карточку')\r\n      }\r\n    })\r\n  }\r\n  \r\n  likeCard(cardId) {\r\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\r\n      method: \"PUT\",\r\n      headers: this._headers, \r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  unlikeCard(cardId) {\r\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._checkResponse);\r\n  }\r\n}\r\n\r\nexport const apiConfig = new Api({\r\n  url: \"https://mesto.nomoreparties.co/v1/cohort-20\",\r\n  authorization: 'e834f1b9-ceab-4d08-a43d-18df96eb5098'\r\n});\r\n   \r\n","import React from 'react';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport ImagePopup from './ImagePopup';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport { apiConfig } from '../utils/api';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, toggleEditProfilePopup] = React.useState(false);\r\n  const [isAddPlacePopupOpen, toggleAddPlacePopup] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, toggleEditAvatarPopup] = React.useState(false);\r\n  const [isImagePopupOpen, toggleZoomImagePopup] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState({name: '', link: ''});\r\n  const [currentUser, setCurrentUser] = React.useState({avatar: '', name: '', about: ''});\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n\r\n  React.useEffect(() => {\r\n    apiConfig.getInfo()\r\n    .then((res) => {\r\n      setCurrentUser(res)\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n  }, []);\r\n\r\n\r\n  React.useEffect(() => {\r\n    apiConfig.getCard()\r\n    .then((res) => {\r\n      setCards(res);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n  }, [])\r\n\r\n\r\n  function handleAddPlaceSubmit(data) {\r\n    apiConfig.postCard(data)\r\n    .then((newCard) => {\r\n      setCards([newCard, ...cards]);\r\n      closeAllPopups();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n \r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n    if (!isLiked) {\r\n      apiConfig.likeCard(card._id)\r\n      .then((newCard) => {\r\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n    }\r\n    else {\r\n      apiConfig.unlikeCard(card._id)\r\n      .then((newCard) => {\r\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n\r\n  function handleCardDelete(card) {\r\n    apiConfig.deleteCard(card._id)\r\n    .then(() => {\r\n      setCards(cards.filter((c) => c._id !== card._id));\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n\r\n  function handleUpdateUser(user) {\r\n    if (user.name !== '' && user.about !== '') {\r\n      apiConfig.updateInfo(user)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n    }\r\n  }\r\n\r\n  function handleUpdateAvatar(user) {\r\n    if (user.avatar !== '') {\r\n      apiConfig.updateAvatar(user)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });  \r\n   }  \r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    toggleEditAvatarPopup(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    toggleEditProfilePopup(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    toggleAddPlacePopup(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    toggleAddPlacePopup(false);\r\n    toggleEditAvatarPopup(false);\r\n    toggleEditProfilePopup(false);\r\n    toggleZoomImagePopup(false);\r\n    setSelectedCard({name: '', link: ''});\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    if (card.link !== '' && card.name !== '') {\r\n      setSelectedCard({name: card.name, link: card.link});\r\n      toggleZoomImagePopup(true);\r\n    }\r\n  }\r\n  \r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className = \"page\">\r\n        <Header />\r\n        <Main \r\n          onEditProfile = {handleEditProfileClick}\r\n          onEditAvatar = {handleEditAvatarClick}\r\n          onAddPlace = {handleAddPlaceClick}\r\n          onCardClick = {handleCardClick}\r\n          onCardLike = {handleCardLike}\r\n          onCardDelete = {handleCardDelete}\r\n          cards = {cards}\r\n        />\r\n        <Footer />\r\n\r\n        <EditProfilePopup\r\n          isOpen = {isEditProfilePopupOpen}\r\n          onClose = {closeAllPopups}\r\n          onUpdateUser = {handleUpdateUser}\r\n        />\r\n\r\n        <AddPlacePopup\r\n          isOpen = {isAddPlacePopupOpen}\r\n          onClose = {closeAllPopups}\r\n          onAddPlace = {handleAddPlaceSubmit}\r\n        />\r\n\r\n        <EditAvatarPopup\r\n          isOpen = {isEditAvatarPopupOpen}\r\n          onClose = {closeAllPopups}\r\n          onUpdateAvatar = {handleUpdateAvatar}      \r\n        />  \r\n\r\n        <PopupWithForm \r\n          name='delete-confirmation' \r\n          title='Вы уверены?'\r\n          onClose = {closeAllPopups}> \r\n          <button type=\"button\" className=\"popup__submit-button popup__submit-button_delete\">Да</button>\r\n        </PopupWithForm>\r\n\r\n        <ImagePopup \r\n          isOpen  = {isImagePopupOpen}\r\n          card    = {selectedCard}\r\n          onClose = {closeAllPopups}\r\n        />\r\n\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n "],"sourceRoot":""}